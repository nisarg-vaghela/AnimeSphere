{"version":3,"file":"static/js/ucare-panel-chunk.f051a7b6.chunk.js","mappings":"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","sources":["../node_modules/@uploadcare/react-widget/dist/esm/dialog-98ec5e8a.js"],"sourcesContent":["import { c as _objectSpread2, b as _slicedToArray } from './index-ded791f3.js';\nimport React, { useReducer, useRef, useEffect } from 'react';\nimport uploadcare from 'uploadcare-widget';\nimport { a as useDeepEffect, u as useCustomTabs } from './use-deep-effect-393663e2.js';\nimport 'react-fast-compare';\nimport '@uploadcare/client-suspense';\n\nvar merge = function merge(state, newState) {\n  return _objectSpread2(_objectSpread2({}, state), newState);\n};\n\nvar useState = function useState(initial) {\n  return useReducer(merge, initial || {});\n};\n\nvar containerStyles = {\n  height: '500px',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center'\n};\n\nvar Progress = function Progress(_ref) {\n  var hidden = _ref.hidden,\n      value = _ref.value;\n  var ref = useRef(null);\n  var renderer = useRef(null);\n  useEffect(function () {\n    renderer.current = new uploadcare.Circle(ref.current).renderer;\n  }, []);\n  useEffect(function () {\n    renderer.current.setValue(value);\n  }, [value]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    hidden: hidden,\n    ref: ref\n  });\n};\n\nvar useDialog = function useDialog(props, uploadcare) {\n  var _useState = useState({\n    opened: true,\n    file: null,\n    progress: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var customTabs = props.customTabs,\n      tabsCss = props.tabsCss,\n      locale = props.locale,\n      localePluralize = props.localePluralize,\n      localeTranslations = props.localeTranslations;\n  useDeepEffect(function () {\n    if (locale) window.UPLOADCARE_LOCALE = locale;\n    if (localePluralize) window.UPLOADCARE_LOCALE_PLURALIZE = localePluralize;\n\n    if (localeTranslations) {\n      window.UPLOADCARE_LOCALE_TRANSLATIONS = localeTranslations;\n    }\n\n    return function () {\n      if (locale) delete window.UPLOADCARE_LOCALE;\n      if (localePluralize) delete window.UPLOADCARE_LOCALE_PLURALIZE;\n      if (localeTranslations) delete window.UPLOADCARE_LOCALE_TRANSLATIONS;\n    };\n  }, [locale, localePluralize, localeTranslations]);\n  useCustomTabs(customTabs, uploadcare);\n  var panelContainer = useRef(null);\n  var panelInstance = useRef(null);\n  useEffect(function () {\n    if (state.opened) {\n      if (uploadcare && tabsCss && typeof tabsCss === 'string') {\n        if (tabsCss.indexOf('https://') === 0) {\n          uploadcare.tabsCss.addUrl(tabsCss);\n        } else {\n          uploadcare.tabsCss.addStyle(tabsCss);\n        }\n      }\n\n      panelInstance.current && panelInstance.current.reject();\n      panelInstance.current = uploadcare.openPanel(panelContainer.current, state.file ? uploadcare.fileFrom('uploaded', state.file.uuid, props) : null, props);\n      setState({\n        file: null\n      });\n      panelInstance.current.done(function (file) {\n        setState({\n          opened: false\n        });\n        file.progress(function (state) {\n          return setState({\n            progress: state.progress\n          });\n        });\n        file.done(function (file) {\n          return setState({\n            file: file\n          });\n        });\n      });\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [uploadcare, props, setState, state.opened]);\n  useEffect(function () {\n    return function () {\n      return panelInstance.current && panelInstance.current.reject();\n    };\n  }, []);\n  return [state, setState, panelContainer];\n};\n\nvar Dialog = function Dialog(props) {\n  var _useDialog = useDialog(props, uploadcare),\n      _useDialog2 = _slicedToArray(_useDialog, 3),\n      _useDialog2$ = _useDialog2[0],\n      opened = _useDialog2$.opened,\n      file = _useDialog2$.file,\n      progress = _useDialog2$.progress,\n      setState = _useDialog2[1],\n      containerRef = _useDialog2[2];\n\n  var readyState = file && !opened;\n  var progressState = !file && !opened && progress !== null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: props.id,\n    style: containerStyles\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerRef\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    hidden: !readyState\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"uploadcare--button uploadcare--button_primary\",\n    onClick: function onClick() {\n      return setState({\n        opened: true,\n        sourse: 'natural'\n      });\n    }\n  }, \"Open panel\")), /*#__PURE__*/React.createElement(\"span\", {\n    hidden: !readyState\n  }, \"File uuid: \"), /*#__PURE__*/React.createElement(\"span\", {\n    hidden: !readyState\n  }, file && file.uuid), /*#__PURE__*/React.createElement(Progress, {\n    hidden: !progressState,\n    value: progress\n  }));\n};\n\nexport default Dialog;\n"],"names":["merge","state","newState","_objectSpread2","containerStyles","height","display","flexDirection","alignItems","justifyContent","Progress","_ref","hidden","value","ref","useRef","renderer","useEffect","current","uploadcare","setValue","React","useDialog","props","initial","_useState","opened","file","progress","useReducer","_useState2","_slicedToArray","setState","customTabs","tabsCss","locale","localePluralize","localeTranslations","useDeepEffect","window","UPLOADCARE_LOCALE","UPLOADCARE_LOCALE_PLURALIZE","UPLOADCARE_LOCALE_TRANSLATIONS","useCustomTabs","panelContainer","panelInstance","indexOf","addUrl","addStyle","reject","openPanel","fileFrom","uuid","done","_useDialog","_useDialog2","_useDialog2$","containerRef","readyState","progressState","id","style","className","onClick","sourse"],"sourceRoot":""}